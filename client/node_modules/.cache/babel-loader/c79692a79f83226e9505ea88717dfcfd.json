{"ast":null,"code":"'use strict';\n\nvar _regeneratorRuntime = require(\"D:\\\\Turorials\\\\React Js\\\\Projects\\\\e-commerce\\\\node_modules\\\\@babel\\\\runtime/regenerator\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Group = undefined;\nexports.createElement = createElement;\nexports.render = render;\nexports.reactSaga = reactSaga;\n\nvar _immutable = require('immutable');\n\nvar Immutable = _interopRequireWildcard(_immutable);\n\nvar _reduxSaga = require('redux-saga');\n\nvar _effects = require('redux-saga/effects');\n\nvar _react = require('react');\n\nvar _isGeneratorFunction = require('is-generator-function');\n\nvar _isGeneratorFunction2 = _interopRequireDefault(_isGeneratorFunction);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n\nfunction _toConsumableArray(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n}\n\nvar makeSagaDescriptor = Immutable.Record({\n  saga: null,\n  props: null\n}, 'SagaDescriptor');\n\nfunction isGenerator(fun) {\n  return (0, _isGeneratorFunction2.default)(fun) || typeof _regeneratorRuntime !== 'undefined' && _regeneratorRuntime.isGeneratorFunction(fun);\n}\n\nfunction isValidChild(object) {\n  if (!object) {\n    return true;\n  }\n\n  return typeof object.type === 'function';\n}\n\nvar Group = exports.Group = function Group(props) {\n  return null;\n};\n\nfunction createElement(cls, props) {\n  for (var _len = arguments.length, children = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    children[_key - 2] = arguments[_key];\n  }\n\n  return {\n    type: cls,\n    props: (children.length ? Object.assign({}, props, {\n      children: children\n    }) : props) || {},\n    key: null\n  };\n}\n\nfunction isFunctionElement(node) {\n  return typeof node.type === 'function';\n}\n\nfunction childCheckFail(node) {\n  throw new Error('invalid node type ' + (node && node.type));\n}\n\nfunction renderGroup(node, state) {\n  var children = [];\n\n  if (node.props && node.props.children) {\n    if ({}.toString.call(node.props.children) === '[object Array]') {\n      node.props.children.forEach(function (child) {\n        if (isValidChild(child)) {\n          children.push.apply(children, _toConsumableArray(render(child, state)));\n        } else {\n          childCheckFail(node);\n        }\n      });\n    } else {\n      _react.Children.forEach(node.props.children, function (child) {\n        if (isValidChild(child)) {\n          children.push.apply(children, _toConsumableArray(render(child, state)));\n        } else {\n          childCheckFail(node);\n        }\n      });\n    }\n  }\n\n  return children;\n}\n\nfunction render(node, state) {\n  if (!node) {\n    return [];\n  }\n\n  if (isFunctionElement(node)) {\n    if (node.type === Group) {\n      return renderGroup(node, state);\n    } else if (isGenerator(node.type)) {\n      var descriptor = makeSagaDescriptor({\n        saga: node.type,\n        props: Immutable.fromJS(node.props)\n      });\n      return [descriptor];\n    } else {\n      return render(node.type(Object.assign({}, node.props, {\n        state: state\n      })), state);\n    }\n  }\n\n  return childCheckFail(node);\n}\n\nfunction getSagas(node, state) {\n  return Immutable.OrderedSet(render(node, state));\n}\n\nfunction forkDescriptor(spec) {\n  return (0, _effects.fork)(spec.saga, spec.props.toJS());\n}\n\nfunction reactSaga(node, debugFn) {\n  return /*#__PURE__*/_regeneratorRuntime.mark(function reactSaga() {\n    var _marked, runningSagas, step;\n\n    return _regeneratorRuntime.wrap(function reactSaga$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            step = function step() {\n              var state, sagas, kill, spawn, keep, killEffects, spawnEffects, result;\n              return _regeneratorRuntime.wrap(function step$(_context) {\n                while (1) {\n                  switch (_context.prev = _context.next) {\n                    case 0:\n                      _context.next = 2;\n                      return (0, _effects.select)();\n\n                    case 2:\n                      state = _context.sent;\n                      sagas = getSagas(node, state);\n                      kill = runningSagas.keySeq().filter(function (spec) {\n                        return !sagas.contains(spec);\n                      });\n                      spawn = sagas.filter(function (spec) {\n                        return !runningSagas.has(spec);\n                      });\n                      keep = runningSagas.filter(function (_, spec) {\n                        return sagas.contains(spec);\n                      });\n\n                      if (!(kill.isEmpty() && spawn.isEmpty())) {\n                        _context.next = 9;\n                        break;\n                      }\n\n                      return _context.abrupt('return');\n\n                    case 9:\n                      killEffects = kill.map(function (spec) {\n                        return runningSagas.get(spec);\n                      }).map(_effects.cancel).toArray();\n                      spawnEffects = spawn.map(forkDescriptor).toArray();\n\n                      if (debugFn) {\n                        kill.forEach(function (spec) {\n                          debugFn('kill %s', spec.saga.name, spec.props.toJS());\n                        });\n                        spawn.forEach(function (spec) {\n                          debugFn('spawn %s', spec.saga.name, spec.props.toJS());\n                        });\n                      }\n\n                      _context.next = 14;\n                      return [].concat(_toConsumableArray(killEffects), _toConsumableArray(spawnEffects));\n\n                    case 14:\n                      result = _context.sent;\n                      runningSagas = Immutable.OrderedMap(keep.concat(spawn.toList().zip(Immutable.Iterable(result).slice(killEffects.length))));\n\n                    case 16:\n                    case 'end':\n                      return _context.stop();\n                  }\n                }\n              }, _marked, this);\n            };\n\n            _marked = /*#__PURE__*/_regeneratorRuntime.mark(step);\n            runningSagas = Immutable.OrderedMap();\n            _context2.prev = 3;\n            return _context2.delegateYield(step(), 't0', 5);\n\n          case 5:\n            return _context2.delegateYield((0, _reduxSaga.takeLatest)('*', step), 't1', 6);\n\n          case 6:\n            _context2.prev = 6;\n            return _context2.delegateYield(runningSagas.valueSeq().map(_effects.cancel).toArray(), 't2', 8);\n\n          case 8:\n            return _context2.finish(6);\n\n          case 9:\n          case 'end':\n            return _context2.stop();\n        }\n      }\n    }, reactSaga, this, [[3,, 6, 9]]);\n  });\n}","map":{"version":3,"sources":["D:/Turorials/React Js/Projects/e-commerce/node_modules/react-saga/lib/index.js"],"names":["Object","defineProperty","exports","value","Group","undefined","createElement","render","reactSaga","_immutable","require","Immutable","_interopRequireWildcard","_reduxSaga","_effects","_react","_isGeneratorFunction","_isGeneratorFunction2","_interopRequireDefault","obj","__esModule","default","newObj","key","prototype","hasOwnProperty","call","_toConsumableArray","arr","Array","isArray","i","arr2","length","from","makeSagaDescriptor","Record","saga","props","isGenerator","fun","isGeneratorFunction","isValidChild","object","type","cls","_len","arguments","children","_key","assign","isFunctionElement","node","childCheckFail","Error","renderGroup","state","toString","forEach","child","push","apply","Children","descriptor","fromJS","getSagas","OrderedSet","forkDescriptor","spec","fork","toJS","debugFn","mark","_marked","runningSagas","step","wrap","reactSaga$","_context2","prev","next","sagas","kill","spawn","keep","killEffects","spawnEffects","result","step$","_context","select","sent","keySeq","filter","contains","has","_","isEmpty","abrupt","map","get","cancel","toArray","name","concat","OrderedMap","toList","zip","Iterable","slice","stop","delegateYield","takeLatest","valueSeq","finish"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Group = undefined;\nexports.createElement = createElement;\nexports.render = render;\nexports.reactSaga = reactSaga;\n\nvar _immutable = require('immutable');\n\nvar Immutable = _interopRequireWildcard(_immutable);\n\nvar _reduxSaga = require('redux-saga');\n\nvar _effects = require('redux-saga/effects');\n\nvar _react = require('react');\n\nvar _isGeneratorFunction = require('is-generator-function');\n\nvar _isGeneratorFunction2 = _interopRequireDefault(_isGeneratorFunction);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar makeSagaDescriptor = Immutable.Record({ saga: null, props: null }, 'SagaDescriptor');\nfunction isGenerator(fun) {\n    return (0, _isGeneratorFunction2.default)(fun) || typeof regeneratorRuntime !== 'undefined' && regeneratorRuntime.isGeneratorFunction(fun);\n}\nfunction isValidChild(object) {\n    if (!object) {\n        return true;\n    }\n    return typeof object.type === 'function';\n}\nvar Group = exports.Group = function Group(props) {\n    return null;\n};\nfunction createElement(cls, props) {\n    for (var _len = arguments.length, children = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n        children[_key - 2] = arguments[_key];\n    }\n\n    return {\n        type: cls,\n        props: (children.length ? Object.assign({}, props, { children: children }) : props) || {},\n        key: null\n    };\n}\nfunction isFunctionElement(node) {\n    return typeof node.type === 'function';\n}\nfunction childCheckFail(node) {\n    throw new Error('invalid node type ' + (node && node.type));\n}\nfunction renderGroup(node, state) {\n    var children = [];\n    if (node.props && node.props.children) {\n        if ({}.toString.call(node.props.children) === '[object Array]') {\n            node.props.children.forEach(function (child) {\n                if (isValidChild(child)) {\n                    children.push.apply(children, _toConsumableArray(render(child, state)));\n                } else {\n                    childCheckFail(node);\n                }\n            });\n        } else {\n            _react.Children.forEach(node.props.children, function (child) {\n                if (isValidChild(child)) {\n                    children.push.apply(children, _toConsumableArray(render(child, state)));\n                } else {\n                    childCheckFail(node);\n                }\n            });\n        }\n    }\n    return children;\n}\nfunction render(node, state) {\n    if (!node) {\n        return [];\n    }\n    if (isFunctionElement(node)) {\n        if (node.type === Group) {\n            return renderGroup(node, state);\n        } else if (isGenerator(node.type)) {\n            var descriptor = makeSagaDescriptor({\n                saga: node.type,\n                props: Immutable.fromJS(node.props)\n            });\n            return [descriptor];\n        } else {\n            return render(node.type(Object.assign({}, node.props, { state: state })), state);\n        }\n    }\n    return childCheckFail(node);\n}\nfunction getSagas(node, state) {\n    return Immutable.OrderedSet(render(node, state));\n}\nfunction forkDescriptor(spec) {\n    return (0, _effects.fork)(spec.saga, spec.props.toJS());\n}\nfunction reactSaga(node, debugFn) {\n    return (/*#__PURE__*/regeneratorRuntime.mark(function reactSaga() {\n            var _marked, runningSagas, step;\n\n            return regeneratorRuntime.wrap(function reactSaga$(_context2) {\n                while (1) {\n                    switch (_context2.prev = _context2.next) {\n                        case 0:\n                            step = function step() {\n                                var state, sagas, kill, spawn, keep, killEffects, spawnEffects, result;\n                                return regeneratorRuntime.wrap(function step$(_context) {\n                                    while (1) {\n                                        switch (_context.prev = _context.next) {\n                                            case 0:\n                                                _context.next = 2;\n                                                return (0, _effects.select)();\n\n                                            case 2:\n                                                state = _context.sent;\n                                                sagas = getSagas(node, state);\n                                                kill = runningSagas.keySeq().filter(function (spec) {\n                                                    return !sagas.contains(spec);\n                                                });\n                                                spawn = sagas.filter(function (spec) {\n                                                    return !runningSagas.has(spec);\n                                                });\n                                                keep = runningSagas.filter(function (_, spec) {\n                                                    return sagas.contains(spec);\n                                                });\n\n                                                if (!(kill.isEmpty() && spawn.isEmpty())) {\n                                                    _context.next = 9;\n                                                    break;\n                                                }\n\n                                                return _context.abrupt('return');\n\n                                            case 9:\n                                                killEffects = kill.map(function (spec) {\n                                                    return runningSagas.get(spec);\n                                                }).map(_effects.cancel).toArray();\n                                                spawnEffects = spawn.map(forkDescriptor).toArray();\n\n                                                if (debugFn) {\n                                                    kill.forEach(function (spec) {\n                                                        debugFn('kill %s', spec.saga.name, spec.props.toJS());\n                                                    });\n                                                    spawn.forEach(function (spec) {\n                                                        debugFn('spawn %s', spec.saga.name, spec.props.toJS());\n                                                    });\n                                                }\n                                                _context.next = 14;\n                                                return [].concat(_toConsumableArray(killEffects), _toConsumableArray(spawnEffects));\n\n                                            case 14:\n                                                result = _context.sent;\n\n                                                runningSagas = Immutable.OrderedMap(keep.concat(spawn.toList().zip(Immutable.Iterable(result).slice(killEffects.length))));\n\n                                            case 16:\n                                            case 'end':\n                                                return _context.stop();\n                                        }\n                                    }\n                                }, _marked, this);\n                            };\n\n                            _marked = /*#__PURE__*/regeneratorRuntime.mark(step);\n                            runningSagas = Immutable.OrderedMap();\n                            _context2.prev = 3;\n                            return _context2.delegateYield(step(), 't0', 5);\n\n                        case 5:\n                            return _context2.delegateYield((0, _reduxSaga.takeLatest)('*', step), 't1', 6);\n\n                        case 6:\n                            _context2.prev = 6;\n                            return _context2.delegateYield(runningSagas.valueSeq().map(_effects.cancel).toArray(), 't2', 8);\n\n                        case 8:\n                            return _context2.finish(6);\n\n                        case 9:\n                        case 'end':\n                            return _context2.stop();\n                    }\n                }\n            }, reactSaga, this, [[3,, 6, 9]]);\n        })\n    );\n}"]},"metadata":{},"sourceType":"script"}